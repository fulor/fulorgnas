!function(e){var i={createSlider:function(){e(".top-slider").carouFredSel({responsive:!0,width:1140,auto:{items:1},scroll:{duration:1e3},prev:".nav-topslider .prev",next:".nav-topslider .next"}),e(".stock-items").slick({autoplay:!0,autoplaySpeed:4e3,speed:1500,arrow:!1}),e(".stock-items-mobile").slick({autoplay:!0,autoplaySpeed:4e3,speed:1500,arrow:!1}),screen.width<="991"?(e(".stock-items").remove(),e(".service-list").slick({infinite:!0,slidesToScroll:1,autoplay:!0,centerMode:!0,autoplaySpeed:4e3,speed:1500,arrows:!1}),e(".clients-list").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:4e3,speed:1500,arrows:!1})):e(".stock-items-mobile").remove()},backgroundTopSlider:function(){var i,t=e(".slide-item").length;if(screen.width<"992")for(i=0;i<=t;i++){var o=e("#slide"+i).data("mobile");e("#slide"+i).css("background-image","url("+o+")")}else for(i=0;i<=t;i++){var o=e("#slide"+i).data("desktop");e("#slide"+i).css("background-image","url("+o+")")}},switchCategoryCatalog:function(){e(".tabs-category").on("click","div:not(.active)",function(){e(this).addClass("active").siblings().removeClass("active").closest(".catalog").find("div.products-list").removeClass("active").eq(e(this).index()).addClass("active")})},showCharacterInModelCatalog:function(){var i=function(){var i=e(this).parent(".item-buttons").siblings(".hidden-character");e(".modal-wrapper").addClass("open"),i.css({opacity:"1",visibility:"visible"}),i.addClass("open")};e(".close__modal, .modal-wrapper").click(function(){e(".hidden-character").css({opacity:"0",visibility:"hidden"}),e(".hidden-character,.modal-block").removeClass("open")}),e(".product-item .show-character").click(i)},loadServiceForm:function(){e(".service-list .list-item").click(function(){var i,t=e(this).data("service");1==t?i="wp-content/themes/conditioning/inc/template/service/service-installation.php":2==t?i="wp-content/themes/conditioning/inc/template/service/service-obsl.php":3==t&&(i="wp-content/themes/conditioning/inc/template/service/service-repairs.php"),e("#service-form .form-item").load(i)})},showForms:function(){var i,t,o,s=function(){i=e(this).data("title"),e('#popup__form input[name="title"]').val(i),e("#popup__form").css({visibility:"visible"}),e(".modal-wrapper").addClass("open")},n=function(){s(),i=e(this).data("title"),e('#popup__form input[name="title"]').val(i),t=e(this).parents(".product-item").find(".title-products .name").html(),o=e(this).parents(".model-item").find(".item-name .value").html(),e('#popup__form input[name="model"]').val(t+": "+o)},c=function(){e("#stock-form").css({visibility:"visible"}),e(".modal-wrapper").addClass("open")},a=function(){e("#service-form").css({visibility:"visible"}),e(".modal-wrapper").addClass("open")},l=function(){e(".hidden-character,.modal-wrapper").removeClass("open"),window.setTimeout(function(){e(".modal-block").show().css({visibility:"hidden"})},500)};e(".callback").click(s),e(".order").click(n),e(document).on("click","#service-form .order-service",function(){s(),i=e(this).data("title"),e('#popup__form input[name="title"]').val(i)}),e(".stock-items .item-slide,.stock-items-mobile .item-slide").click(c),e(".service-list .list-item").click(a),e(document).on("click",function(i){if(e(".modal-wrapper").hasClass("open")){var t=e(i.target);0!=t.closest(".modal-wrapper").length&&0==t.closest(".modal-block").length&&l()}}),e(".close__modal").click(l)},sendForms:function(){var i=function(){e(".hidden-character,.modal-wrapper").removeClass("open"),window.setTimeout(function(){e(".modal-block").show().css({visibility:"hidden"})},500)},t=function(){window.setTimeout(function(){e("#thank").show().css({visibility:"visible"}),e(".modal-wrapper").addClass("open")},1500),window.setTimeout(function(){e("#thank").show().css({visibility:"hidden"}),e(".modal-wrapper").removeClass("open ")},6e3)},o=function(){var o=e(this),s=o.serialize();return e.ajax({type:"POST",url:"/wp-admin/admin-ajax.php?action=sendPost",data:s,beforeSend:function(e){o.find('button[type="submit"]').prop("disabled",!0)},success:function(e){"success"==e.status?(o.trigger("reset"),o.find("input[type=hidden]").val(""),i(),t()):alert("Произошла ошибка обработки запроса")},error:function(){alert("Произошла ошибка соединения")},complete:function(e){o.find('button[type="submit"]').prop("disabled",!1)}}),!1};e("#popup__form .modal-form").submit(o)},showMobileMenu:function(){e(".mobile-menu").click(function(){e(this).toggleClass("active"),e(".primary-menu").slideToggle()})},mobileToggleAbout:function(){screen.width<="991"&&e(document).on("click",".list-item",function(){e(this).find(".item-desc").slideToggle()})},scrollTo:function(){e(".menu-item-5").click(function(){e.scrollTo(".about",{offset:-100,duration:750})}),e(".menu-item-6").click(function(){e.scrollTo(".catalog",{offset:-100,duration:750})}),e(".menu-item-7").click(function(){e.scrollTo(".stock",{offset:-100,duration:750})}),e(".menu-item-8").click(function(){e.scrollTo(".service",{offset:-100,duration:750})}),e(".menu-item-9").click(function(){e.scrollTo("#contacts",{offset:-100,duration:750})})},init:function(){this.createSlider(),this.backgroundTopSlider(),this.switchCategoryCatalog(),this.showCharacterInModelCatalog(),this.loadServiceForm(),this.showForms(),this.sendForms(),this.showMobileMenu(),this.mobileToggleAbout(),this.scrollTo()}};e(document).ready(function(){i.init()})}(jQuery);